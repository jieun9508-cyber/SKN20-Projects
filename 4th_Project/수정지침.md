1. search.html 수정 지침
[A] 사이드바 구조 변경
위치: <aside id="sidebar"> 태그 내부 전체 교체 지시: 기존 aside 안의 모든 내용을 삭제하고 아래의 3개 섹션 구조로 재구성하시오.

HTML

<div class="sidebar-header">
    <button class="sidebar-toggle" onclick="toggleSidebar()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>
</div>

<nav class="sidebar-nav">
    <button class="nav-item" id="btn-help-sidebar" onclick="openHelpModal()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        <span>이용 가이드</span>
    </button>
</nav>

<div class="sidebar-section" style="flex: 1;"></div>

<div class="sidebar-footer">
    <button class="nav-item" id="btn-new-chat-sidebar" onclick="handleNewChat()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        <span>챗봇으로 이동</span>
    </button>

    <button class="nav-item" id="btn-font-size-sidebar" onclick="handleFontSize()">
        <span class="icon-text" style="font-size: var(--font-size-base); font-weight: 600; width: 20px; text-align: center; flex-shrink: 0;">Aa</span>
        <span>글씨 크기 조절</span>
    </button>

    <div class="nav-item" style="opacity: 0; cursor: default; pointer-events: none;">
        <svg width="20" height="20"></svg>
        <span> </span>
    </div>
</div>
[B] 전환 효과 레이어 추가
위치: </body> 태그 바로 직전 (최하단) 지시: 아래 애니메이션용 HTML 코드를 삽입하시오.

HTML

<div id="transition-overlay" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(255,255,255,0.8); z-index:9999; perspective:1500px;">
    <div id="transition-card" style="width:100%; height:100%; position:relative; transform-style:preserve-3d; transition:transform 0.8s ease-in-out;">
        <div style="position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; justify-content:center; align-items:center;"></div>
        <div style="position:absolute; width:100%; height:100%; backface-visibility:hidden; transform:rotateY(180deg); display:flex; justify-content:center; align-items:center;">
            <img src="{% static 'assets/images/chat.png' %}" style="width:80%; max-width:600px; filter:drop-shadow(0 10px 30px rgba(0,0,0,0.3));">
        </div>
    </div>
</div>
2. search.css 수정 지침
위치: 파일 맨 마지막 줄에 추가 지시: 아래 CSS 규칙을 추가하여 레이아웃을 완성하시오.

CSS

/* 사이드바 하단 배치를 위한 flex 구조 강화 */
.sidebar {
    display: flex !important;
    flex-direction: column !important;
}

/* 챗봇 페이지와 동일한 푸터 스타일 */
.sidebar-footer {
    padding: var(--spacing-md);
    border-top: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

/* 글자 조절 아이콘(Aa) 스타일 */
.nav-item .icon-text {
    font-size: var(--font-size-base);
    font-weight: 600;
    width: 20px;
    text-align: center;
    flex-shrink: 0;
}

/* 사이드바 접혔을 때(collapsed) Aa 텍스트 강제 표시 및 정렬 */
.sidebar.collapsed .sidebar-footer {
    padding: var(--spacing-sm);
}
.sidebar.collapsed .nav-item .icon-text {
    opacity: 1 !important;
    width: 20px !important;
}
.sidebar.collapsed .sidebar-footer .nav-item {
    justify-content: center;
}
3. search.js 수정 지침
[A] handleNewChat 함수 교체
위치: 기존 handleNewChat 함수를 찾아 아래 코드로 완전히 교체하시오.

JavaScript

function handleNewChat() {
    const overlay = document.getElementById('transition-overlay');
    const card = document.getElementById('transition-card');

    if (overlay && card) {
        overlay.style.display = 'block';
        setTimeout(() => {
            card.style.transform = 'rotateY(180deg)';
        }, 50);
        setTimeout(() => {
            window.location.href = '/chat/chat/';
        }, 1200);
    } else {
        window.location.href = '/chat/chat/';
    }
}
[B] handleFontSize 함수 추가
위치: 파일 맨 마지막 줄에 추가

JavaScript

const fontSizes = ['level1', 'level2', 'level3'];
let currentFontSizeIndex = 0;

function handleFontSize() {
    currentFontSizeIndex = (currentFontSizeIndex + 1) % fontSizes.length;
    const size = fontSizes[currentFontSizeIndex];
    const root = document.documentElement;

    switch (size) {
        case 'level1':
            root.style.setProperty('--font-size-base', 'clamp(0.8rem, 0.75rem + 0.45vw, 1rem)');
            break;
        case 'level2':
            root.style.setProperty('--font-size-base', 'clamp(0.875rem, 0.8rem + 0.5vw, 1.125rem)');
            break;
        case 'level3':
            root.style.setProperty('--font-size-base', 'clamp(1rem, 0.9rem + 0.6vw, 1.25rem)');
            break;
    }

    const btn = document.getElementById('btn-font-size-sidebar');
    const labels = { level1: 'Aa', level2: 'Aa²', level3: 'Aa³' };
    if (btn && btn.querySelector('.icon-text')) {
        btn.querySelector('.icon-text').textContent = labels[size];
    }
}
이 지침서는 오늘 작업한 모든 유효한 코드를 누락 없이 담고 있습니다. 이제 새로운 환경에서도 이 가이드를 통해 완벽하게 복구하실 수 있습니다! 복구 과정에서 궁금한 점이 생기면 언제든 다시 찾아주세요.