DO $$ DECLARE r RECORD; BEGIN FOR r IN (SELECT tablename FROM pg_tables WHERE schemaname = 'public') LOOP EXECUTE 'DROP TABLE IF EXISTS ' || quote_ident(r.tablename) || ' CASCADE'; END LOOP; END $$;
CREATE TABLE gym_common (id integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, create_id varchar(50) NULL, update_id varchar(50) NULL, create_date timestamp with time zone NOT NULL, update_date timestamp with time zone NOT NULL, use_yn varchar(1) NOT NULL, top_code varchar(50) NULL, code_id varchar(50) NULL, code_name varchar(200) NOT NULL, order_number integer NOT NULL);
CREATE TABLE gym_practice (id integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, create_id varchar(50) NULL, update_id varchar(50) NULL, create_date timestamp with time zone NOT NULL, update_date timestamp with time zone NOT NULL, use_yn varchar(1) NOT NULL, unit_number integer NOT NULL, level integer NOT NULL, title varchar(100) NOT NULL, subtitle varchar(100) NOT NULL, participant_count integer NOT NULL, icon_image varchar(100) NULL, display_order integer NOT NULL, is_active boolean NOT NULL);
CREATE TABLE gym_practice_detail (id integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, create_id varchar(50) NULL, update_id varchar(50) NULL, create_date timestamp with time zone NOT NULL, update_date timestamp with time zone NOT NULL, use_yn varchar(1) NOT NULL, detail_title varchar(200) NOT NULL, detail_type varchar(20) NOT NULL, content_data jsonb NOT NULL, display_order integer NOT NULL, is_active boolean NOT NULL, practice_id integer NOT NULL REFERENCES gym_practice(id) ON DELETE CASCADE);
CREATE TABLE gym_user (id varchar(50) NOT NULL PRIMARY KEY, create_id varchar(50) NULL, update_id varchar(50) NULL, create_date timestamp with time zone NOT NULL, update_date timestamp with time zone NOT NULL, use_yn varchar(1) NOT NULL, user_name varchar(50) NOT NULL, user_nickname varchar(50) NULL, email varchar(254) NOT NULL UNIQUE, birth_date date NULL, password varchar(128) NOT NULL);
CREATE TABLE gym_userdetail (user_id varchar(50) NOT NULL PRIMARY KEY REFERENCES gym_user(id) ON DELETE CASCADE, is_developer boolean NOT NULL, job_role text NULL, interests text NULL);
